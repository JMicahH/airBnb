<form (submit)='addListing()' #newListing='ngForm'>
  <label>Title</label>
  <input
  type="text"
  name='title'
  required
  minlength="2"
  [(ngModel)]='listing.title'
  #title='ngModel'
  placeholder="Title"
  ><br>
  <div *ngIf='title.errors'>
    <small *ngIf='title.errors.required && title.touched'>Title is required</small>
    <small *ngIf='title.errors.minlength'>Title must be at least 2 characters long</small>
  </div>
  
  <label>Description</label>
  <textarea 
  cols="30" rows="10"
  name='desc'
  required
  minlength="5"
  [(ngModel)]='listing.desc'
  #desc='ngModel'
  placeholder="Description"
  ></textarea><br>
  <div *ngIf='desc.errors'>
    <small *ngIf='desc.errors.required && desc.touched'>Description is required</small>
    <small *ngIf='desc.errors.minlength'>Description must be at least 5 characters long</small>
  </div>
  
  <label>Address</label>
  <input
  type="text"
  name='address'
  required
  minlength="3"
  [(ngModel)]='listing.address'
  #address='ngModel'
  placeholder="Address"
  ><br>
  <div *ngIf='address.errors'>
    <small *ngIf='address.errors.required && address.touched'>Address is required</small>
    <small *ngIf='address.errors.minlength'>Address must be at least 3 characters long</small>
  </div>
  
  <label>Apartment Number</label>
  <input
  type="text"
  name='apartmentNumber'
  [(ngModel)]='listing.apartmentNumber'
  placeholder="Apt #/Unit"
  ><br>
  
  <label>City</label>
  <input
  type="text"
  name='city'
  required
  minlength="2"
  [(ngModel)]='listing.city'
  #city='ngModel'
  placeholder="City"
  ><br>
  <div *ngIf='city.errors'>
    <small *ngIf='city.errors.required && city.touched'>City is required</small>
    <small *ngIf='city.errors.minlength'>City must be at least 2 characters long</small>
  </div>
  
  <label>State</label>
  <select
  name="state"
  required
  [(ngModel)]='listing.state'
  #state='ngModel'
  >
    <option disabled>Select one</option>
    <option value="AL">Alabama</option>
    <option value="AK">Alaska</option>
    <option value="AZ">Arizona</option>
    <option value="AR">Arkansas</option>
    <option value="CA">California</option>
    <option value="CO">Colorado</option>
    <option value="CT">Connecticut</option>
    <option value="DE">Delaware</option>
    <option value="DC">District Of Columbia</option>
    <option value="FL">Florida</option>
    <option value="GA">Georgia</option>
    <option value="HI">Hawaii</option>
    <option value="ID">Idaho</option>
    <option value="IL">Illinois</option>
    <option value="IN">Indiana</option>
    <option value="IA">Iowa</option>
    <option value="KS">Kansas</option>
    <option value="KY">Kentucky</option>
    <option value="LA">Louisiana</option>
    <option value="ME">Maine</option>
    <option value="MD">Maryland</option>
    <option value="MA">Massachusetts</option>
    <option value="MI">Michigan</option>
    <option value="MN">Minnesota</option>
    <option value="MS">Mississippi</option>
    <option value="MO">Missouri</option>
    <option value="MT">Montana</option>
    <option value="NE">Nebraska</option>
    <option value="NV">Nevada</option>
    <option value="NH">New Hampshire</option>
    <option value="NJ">New Jersey</option>
    <option value="NM">New Mexico</option>
    <option value="NY">New York</option>
    <option value="NC">North Carolina</option>
    <option value="ND">North Dakota</option>
    <option value="OH">Ohio</option>
    <option value="OK">Oklahoma</option>
    <option value="OR">Oregon</option>
    <option value="PA">Pennsylvania</option>
    <option value="RI">Rhode Island</option>
    <option value="SC">South Carolina</option>
    <option value="SD">South Dakota</option>
    <option value="TN">Tennessee</option>
    <option value="TX">Texas</option>
    <option value="UT">Utah</option>
    <option value="VT">Vermont</option>
    <option value="VA">Virginia</option>
    <option value="WA">Washington</option>
    <option value="WV">West Virginia</option>
    <option value="WI">Wisconsin</option>
    <option value="WY">Wyoming</option>
  </select><br>
  <div *ngIf='state.errors'>
    <small *ngIf='state.errors.required && state.touched'>City is required</small>
  </div>

  <label>Zip Code</label>
  <input
  type="text"
  name='zip'
  required
  pattern="^\d{5}(?:[-\s]\d{4})?$"
  [(ngModel)]='listing.zip'
  #zip='ngModel'
  placeholder="Zip Code"
  ><br>
  <div *ngIf='zip.errors'>
    <small *ngIf='zip.errors.required && zip.touched'>Zip Code is required</small>
    <small *ngIf='zip.errors.pattern'>Zip Code not valid</small>
  </div>
  
  <label>Image</label>
  <input
  type="text"
  name='img'
  [(ngModel)]='listing.img'
  placeholder="Image url"
  ><br>

  <label>Price per night</label>
  <input
  type="number"
  name='price'
  required
  [(ngModel)]='listing.price'
  #price='ngModel'
  ><br>
  <div *ngIf='price.errors'>
    <small *ngIf='price.errors.required && price.touched'>Price is required</small>
  </div>
  
  <label>Max Number of Guests</label>
  <input
  type="number"
  name='maxGuests'
  required
  [(ngModel)]='listing.maxGuests'
  #maxGuests='ngModel'
  ><br>
  <div *ngIf='maxGuests.errors'>
    <small *ngIf='maxGuests.errors.required && maxGuests.touched'>Max number of guests is required</small>
  </div>
  
  <label>Type of Property</label>
  <select
  name='type'
  required
  [(ngModel)]='listing.type'
  #type='ngModel'
  >
  <option disabled>Select one</option>
  <option>Apartment</option>
  <option>Condominium</option>
  <option>Guesthouse</option>
  <option>House</option>
  <option>Guest suite</option>
  <option>Townhouse</option>
  <option>Vacation home</option>
  <option>Boat</option>
  <option>Cabin</option>
  <option>Castle</option>
  <option>Cave</option>
  <option>Dorm</option>
  <option>Hut</option>
  <option>Igloo</option>
  <option>Island</option>
  <option>Loft</option>
  <option>Camper/RV</option>
  <option>Tent</option>
  <option>Tipi</option>
  <option>Treehouse</option>
  <option>Yurt</option>
  <option>Other</option>
  </select><br>
  <div *ngIf='type.errors'>
    <small *ngIf='type.errors.required && type.touched'>Type of property is required</small>
  </div>

  <label>Number of Beds</label>
  <input
  type="number"
  name='beds'
  required
  [(ngModel)]='listing.beds'
  #beds='ngModel'
  ><br>
  <div *ngIf='beds.errors'>
    <small *ngIf='beds.errors.required && beds.touched'>Number of beds is required</small>
  </div>
  
  <label>Number of Bathrooms</label>
  <input
  type="number"
  name='baths'
  required
  [(ngModel)]='listing.baths'
  #baths='ngModel'
  ><br>
  <div *ngIf='baths.errors'>
    <small *ngIf='baths.errors.required && baths.touched'>Number of baths is required</small>
  </div>
  
  <label>Amenities</label><br>
  <input type="checkbox" name="wifi" [(ngModel)]='listing.amenities.wifi'>Wifi<br>
  <input type="checkbox" name="kitchen" [(ngModel)]='listing.amenities.kitchen'>Kitchen<br>
  <input type="checkbox" name="tv" [(ngModel)]='listing.amenities.tv'>TV<br>
  <input type="checkbox" name="ac" [(ngModel)]='listing.amenities.ac'>AC<br>
  <input type="checkbox" name="heat" [(ngModel)]='listing.amenities.heat'>Heat<br>
  <input type="checkbox" name="pets" [(ngModel)]='listing.amenities.pets'>Pets Allowed<br>
  <input type="checkbox" name="pool" [(ngModel)]='listing.amenities.pool'>Pool<br>
  <input type="checkbox" name="hotTub" [(ngModel)]='listing.amenities.hotTub'>Hot Tub<br>
  <input type="checkbox" name="wheelchair" [(ngModel)]='listing.amenities.wheelchair'>Wheelchair Accesible<br>
  <input type="checkbox" name="kidFriendly" [(ngModel)]='listing.amenities.kidFriendly'>Kid Friendly<br>
  <input type="checkbox" name="washerDryer" [(ngModel)]='listing.amenities.washerDryer'>Washer and Dryer<br>
  <input type="checkbox" name="parking" [(ngModel)]='listing.amenities.parking'>Parking<br>
  <input type="checkbox" name="smoking" [(ngModel)]='listing.amenities.smoking'>Smoking<br>
  <input type="checkbox" name="fireplace" [(ngModel)]='listing.amenities.fireplace'>Fireplace<br>

  <button [disabled]='!newListing.valid'>Submit</button><br>
</form>