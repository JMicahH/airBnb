<div id="allOfIt">
  <form (submit)='addListing()' #newListing='ngForm'>
    <h1 id="titleOfForm">Add New Listing</h1>
    <div class="row p-3 justify-content-center">
      <div class="col-5">
  
        <label>Title</label>
        <input
        class="form-control"
        type="text"
        name='title'
        required
        minlength="2"
        [(ngModel)]='listing.title'
        #title='ngModel'
        placeholder="Title"
        ><br>
        <div *ngIf='title.errors'>
          <small *ngIf='title.errors.required && title.touched'>Title is required</small>
          <small *ngIf='title.errors.minlength'>Title must be at least 2 characters long</small>
        </div>
        
        <label>Description</label>
        <textarea 
        class="form-control"
        rows="5"
        name='desc'
        required
        minlength="5"
        [(ngModel)]='listing.desc'
        #desc='ngModel'
        placeholder="Description"
        ></textarea><br>
        <div *ngIf='desc.errors'>
          <small *ngIf='desc.errors.required && desc.touched'>Description is required</small>
          <small *ngIf='desc.errors.minlength'>Description must be at least 5 characters long</small>
        </div>
        
        <div class="row">
          <div class="col-8">
  
            <label>Address</label>
            <input
            class="form-control"
            type="text"
            name='address'
            required
            minlength="3"
            [(ngModel)]='listing.address'
            #address='ngModel'
            placeholder="Address"
            ><br>
            <div *ngIf='address.errors'>
              <small *ngIf='address.errors.required && address.touched'>Address is required</small>
              <small *ngIf='address.errors.minlength'>Address must be at least 3 characters long</small>
            </div>
  
          </div>
          <div class="col-4">
  
            <label>Apartment Number</label>
            <input
            class="form-control"
            type="text"
            name='apartmentNumber'
            [(ngModel)]='listing.apartmentNumber'
            placeholder="Apt #/Unit"
            ><br>
  
          </div>
        </div>
  
        <div class="row">
  
          <div class="col-6">
            <label>City</label>
            <input
            class="form-control"
            type="text"
            name='city'
            required
            minlength="2"
            [(ngModel)]='listing.city'
            #city='ngModel'
            placeholder="City"
            ><br>
            <div *ngIf='city.errors'>
              <small *ngIf='city.errors.required && city.touched'>City is required</small>
              <small *ngIf='city.errors.minlength'>City must be at least 2 characters long</small>
            </div>
          </div>
  
          <div class="col-md-2">
            <label>State</label>
            <select
            id="dropDown"
            class="form-control"
            name="state"
            required
            [(ngModel)]='listing.state'
            #state='ngModel'
            >
              <option disabled>Select one</option>
              <option value="AL">Alabama</option>
              <option value="AK">Alaska</option>
              <option value="AZ">Arizona</option>
              <option value="AR">Arkansas</option>
              <option value="CA">California</option>
              <option value="CO">Colorado</option>
              <option value="CT">Connecticut</option>
              <option value="DE">Delaware</option>
              <option value="DC">District Of Columbia</option>
              <option value="FL">Florida</option>
              <option value="GA">Georgia</option>
              <option value="HI">Hawaii</option>
              <option value="ID">Idaho</option>
              <option value="IL">Illinois</option>
              <option value="IN">Indiana</option>
              <option value="IA">Iowa</option>
              <option value="KS">Kansas</option>
              <option value="KY">Kentucky</option>
              <option value="LA">Louisiana</option>
              <option value="ME">Maine</option>
              <option value="MD">Maryland</option>
              <option value="MA">Massachusetts</option>
              <option value="MI">Michigan</option>
              <option value="MN">Minnesota</option>
              <option value="MS">Mississippi</option>
              <option value="MO">Missouri</option>
              <option value="MT">Montana</option>
              <option value="NE">Nebraska</option>
              <option value="NV">Nevada</option>
              <option value="NH">New Hampshire</option>
              <option value="NJ">New Jersey</option>
              <option value="NM">New Mexico</option>
              <option value="NY">New York</option>
              <option value="NC">North Carolina</option>
              <option value="ND">North Dakota</option>
              <option value="OH">Ohio</option>
              <option value="OK">Oklahoma</option>
              <option value="OR">Oregon</option>
              <option value="PA">Pennsylvania</option>
              <option value="RI">Rhode Island</option>
              <option value="SC">South Carolina</option>
              <option value="SD">South Dakota</option>
              <option value="TN">Tennessee</option>
              <option value="TX">Texas</option>
              <option value="UT">Utah</option>
              <option value="VT">Vermont</option>
              <option value="VA">Virginia</option>
              <option value="WA">Washington</option>
              <option value="WV">West Virginia</option>
              <option value="WI">Wisconsin</option>
              <option value="WY">Wyoming</option>
            </select><br>
            <div *ngIf='state.errors'>
              <small *ngIf='state.errors.required && state.touched'>City is required</small>
            </div>
          </div>
  
          <div class="col-4">
            <label>Zip Code</label>
            <input
            class="form-control"
            type="text"
            name='zip'
            required
            pattern="^\d{5}(?:[-\s]\d{4})?$"
            [(ngModel)]='listing.zip'
            #zip='ngModel'
            placeholder="Zip Code"
            ><br>
            <div *ngIf='zip.errors'>
              <small *ngIf='zip.errors.required && zip.touched'>Zip Code is required</small>
              <small *ngIf='zip.errors.pattern'>Zip Code not valid</small>
            </div>
          </div>
  
        </div>
        
        <label>Image</label>
        <input
        class="form-control"
        type="text"
        name='img'
        [(ngModel)]='listing.image'
        placeholder="Image url"
        ><br>
  
      </div>
  
  
      <div class="col-5">
  
        <label>Price per night</label>
        <input
        class="form-control"
        type="number"
        name='price'
        required
        [(ngModel)]='listing.price'
        #price='ngModel'
        ><br>
        <div *ngIf='price.errors'>
          <small *ngIf='price.errors.required && price.touched'>Price is required</small>
        </div>
        
        <label>Max Number of Guests</label>
        <input
        class="form-control"
        type="number"
        name='maxGuests'
        required
        [(ngModel)]='listing.maxGuests'
        #maxGuests='ngModel'
        ><br>
        <div *ngIf='maxGuests.errors'>
          <small *ngIf='maxGuests.errors.required && maxGuests.touched'>Max number of guests is required</small>
        </div>
        
        <label>Type of Property</label>
        <select
        id="dropDown"
        class="form-control"
        name='type'
        required
        [(ngModel)]='listing.type'
        #type='ngModel'
        >
        <option disabled>Select one</option>
        <option>Apartment</option>
        <option>Condominium</option>
        <option>Guesthouse</option>
        <option>House</option>
        <option>Guest suite</option>
        <option>Townhouse</option>
        <option>Vacation home</option>
        <option>Boat</option>
        <option>Cabin</option>
        <option>Castle</option>
        <option>Cave</option>
        <option>Dorm</option>
        <option>Hut</option>
        <option>Igloo</option>
        <option>Island</option>
        <option>Loft</option>
        <option>Camper/RV</option>
        <option>Tent</option>
        <option>Tipi</option>
        <option>Treehouse</option>
        <option>Yurt</option>
        <option>Other</option>
        </select><br>
        <div *ngIf='type.errors'>
          <small *ngIf='type.errors.required && type.touched'>Type of property is required</small>
        </div>
      
        <label>Number of Beds</label>
        <input
        class="form-control"
        type="number"
        name='beds'
        required
        [(ngModel)]='listing.beds'
        #beds='ngModel'
        ><br>
        <div *ngIf='beds.errors'>
          <small *ngIf='beds.errors.required && beds.touched'>Number of beds is required</small>
        </div>
        
        <label>Number of Bathrooms</label>
        <input
        class="form-control"
        type="number"
        name='baths'
        required
        [(ngModel)]='listing.baths'
        #baths='ngModel'
        ><br>
        <div *ngIf='baths.errors'>
          <small *ngIf='baths.errors.required && baths.touched'>Number of baths is required</small>
        </div>
        
        <label>Amenities</label><br>
        <small>Choose all that apply</small><br>
        <input class="form-check-input" type="checkbox" name="wifi" [(ngModel)]='listing.amenities.wifi'><label class="form-check-label"> Wifi</label>
        <input class="form-check-input ml-3" type="checkbox" name="kitchen" [(ngModel)]='listing.amenities.kitchen'><label class="form-check-label ml-3"> Kitchen</label>
        <input class="form-check-input ml-3" type="checkbox" name="tv" [(ngModel)]='listing.amenities.tv'><label class="form-check-label ml-3"> TV</label>
        <input class="form-check-input ml-3" type="checkbox" name="ac" [(ngModel)]='listing.amenities.ac'><label class="form-check-label ml-3"> AC</label>
        <input class="form-check-input ml-3" type="checkbox" name="heat" [(ngModel)]='listing.amenities.heat'><label class="form-check-label ml-3"> Heat</label>
        <input class="form-check-input ml-3" type="checkbox" name="pets" [(ngModel)]='listing.amenities.pets'><label class="form-check-label ml-3"> Pets Allowed</label>
        <input class="form-check-input ml-3" type="checkbox" name="pool" [(ngModel)]='listing.amenities.pool'><label class="form-check-label ml-3"> Pool</label>
        <input class="form-check-input ml-3" type="checkbox" name="hotTub" [(ngModel)]='listing.amenities.hotTub'><label class="form-check-label ml-3"> Hot Tub</label><br>
        <input class="form-check-input" type="checkbox" name="wheelchair" [(ngModel)]='listing.amenities.wheelchair'><label class="form-check-label"> Wheelchair Accesible</label>
        <input class="form-check-input ml-3" type="checkbox" name="kidFriendly" [(ngModel)]='listing.amenities.kidFriendly'><label class="form-check-label ml-3"> Kid Friendly</label>
        <input class="form-check-input ml-3" type="checkbox" name="washerDryer" [(ngModel)]='listing.amenities.washerDryer'><label class="form-check-label ml-3"> Washer and Dryer</label>
        <input class="form-check-input ml-3" type="checkbox" name="parking" [(ngModel)]='listing.amenities.parking'><label class="form-check-label ml-3"> Parking</label><br>
        <input class="form-check-input" type="checkbox" name="smoking" [(ngModel)]='listing.amenities.smoking'><label class="form-check-label"> Smoking</label>
        <input class="form-check-input ml-3" type="checkbox" name="fireplace" [(ngModel)]='listing.amenities.fireplace'><label class="form-check-label ml-3"> Fireplace</label>
      
        
      </div>
  
    </div>
    <div class="row mt-3 justify-content-center">
      <div class="col-10">
        <button id="submitButton" class="btn btn-lg btn-block" [disabled]='!newListing.valid'>Submit</button><br>
      </div>
    </div>
  </form>
</div>